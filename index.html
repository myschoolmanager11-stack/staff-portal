<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Myschoolmanager โ ุงููุถุงุก ุงูุฑููู</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- QR -->
    <script src="https://unpkg.com/html5-qrcode"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="top-bar">

    <div class="right-buttons">
        <button class="menu-btn" onclick="toggleMenu()" title="ุงููุงุฆูุฉ">โฐ</button>
    </div>

    <div class="app-title">
        <div id="mainTitle">๐ ูุฑุญุจูุง ุจู ูู ุงููุถุงุก ุงูุฑููู</div>
        <div id="subTitle"></div>
    </div>

    <div class="dropdown-menu" id="dropdownMenu">
        <div onclick="handleItemClick('ุงูููุงุฆู ุงูุฅุณููุฉ ููุชูุงููุฐ')">๐ ุงูููุงุฆู ุงูุฅุณููุฉ ููุชูุงููุฐ</div>
       <div onclick="handleItemClick('ููุงุฆู ุตุจ ุงูููุงุท ููุฃุณุชุงุฐ')">๐ ููุงุฆู ุตุจ ุงูููุงุท</div>
       <div onclick="handleItemClick('ูุงุฆูุฉ ุงูุชูุงููุฐ ุงูุบุงุฆุจูู ูุจู ุงูููู')">๐ ูุงุฆูุฉ ุงูุชูุงููุฐ ุงูุบุงุฆุจูู ูุจู ุงูููู</div>
       <!-- ูุฐุง ุงูุนูุตุฑ ูุง ูุณุชุฎุฏู ุงูุฑูุงุจุท ุจู ููุชุญ ูุงูุฐุฉ ุงูุบูุงุจ -->
       <div onclick="handleAbsentClick()">๐ค ุฅุฑุณุงู ุฃุณูุงุก ุงูุชูุงููุฐ ุงูุบุงุฆุจูู ุญุงูููุง</div>
       <div onclick="handleItemClick('ุฌุฏูู ุฎุฏูุงุช ุงูุฃุณุชุงุฐ')">๐งโ๐ซ ุฌุฏูู ุฎุฏูุงุช ุงูุฃุณุชุงุฐ</div>
       <div onclick="handleItemClick('ุฌุฏูู ุงูุชูููุช ุงูุฃุณุจูุนู ููุชูุงููุฐ')">๐ ุฌุฏูู ุงูุชูููุช ุงูุฃุณุจูุนู ููุชูุงููุฐ</div>
       <div onclick="handleItemClick('ุงุณุชูุงุฑุงุช ููุซุงุฆู ูุฎุชููุฉ')">๐ ุงุณุชูุงุฑุงุช ููุซุงุฆู ูุฎุชููุฉ</div>
       <div class="menu-contact" onclick="openContactModal()">๐ง ุชูุงุตู ุฅุฏุงุฑู</div>
        
        <!-- ูุงุตู -->
        <div class="menu-separator"></div>

        <!-- ูุณุญ ุงููู -->
        <div class="menu-danger" onclick="clearAllLinks()">๐ ูุณุญ ุฌููุน ุงูุฑูุงุจุท</div>
    </div>

</header>

    <div class="container">
    <h2 id="selectedTitle">๐ ูุถุงุก ุฎุฏูุงุช ุงูุฃุณุงุชุฐุฉ</h2>

     <p class="welcome-text" id="welcomeText">
        ููุนุชุจุฑ ุงููุถุงุก ุงูุฑููู ููุตุฉ ููุนูุฉ ููุณููุฉ ุชูููููุฌูุฉ ุฑูููุฉ ูุนุงูุฉ ูุชุนุฒูุฒ ุงูุชูุงุตู ุจูู ุงูุฅุฏุงุฑุฉ ูุงูุฃุณุงุชุฐุฉ.<br>
        ูููููู ุงูุงุทูุงุน ุนูู ุงููุซุงุฆู ูุงููููุงุช ุงููุฎุชููุฉ ุจุทุฑููุฉ ุณููุฉ ูุณุฑูุนุฉุ ุณูุงุก ุนุจุฑ ุฑุงุจุท ูุจุงุดุฑ ุฃู ูุณุญ ุฑูุฒ QR.<br>
        ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ุฃุญุฏ ุงูุนูุงุตุฑ ูู ุงููุงุฆูุฉ ุงูุนูููุฉ ูููุชุงุจุนุฉ.
    </p>

    <!-- ุดุฑูุท ุฃุฏูุงุช ุงููุนุงููุฉ -->
    <div class="viewer-toolbar" id="viewerToolbar" style="display:none;">
        <button title="ุชุนุฏูู ุงูุฑุงุจุท" onclick="editCurrentLink()">โ๏ธ</button>
        <button title="ุชุญููู ุงูููู" onclick="downloadCurrentFile()">โฌ๏ธ</button>
        <button title="ุญุฐู ุงูุฑุงุจุท" onclick="deleteCurrentLink()">๐๏ธ</button>
    </div>

    <div class="viewer" id="viewerContainer"></div>
 </div>

<!-- ูุงูุฐุฉ ุฅุฏุฎุงู ุงูุฑุงุจุท -->
<div class="modal" id="linkModal">
    <div class="modal-content">
        <h3 id="modalTitle"></h3>

        <input type="text" id="driveLink" placeholder="ุงูุตู ุฑุงุจุท ุงูููู ููุง ุฃู ุงูุณุญ QR">

        <div class="modal-buttons">
            <button class="save" onclick="saveLink()">๐พ ุญูุธ</button>
            <button class="scan" onclick="startQR()">๐ท QR</button>
            <button class="close" onclick="closeModal()">โ ุฅุบูุงู</button>
        </div>

        <div id="qr-reader"></div>
        <div id="message"></div>
    </div>
</div>

 <!-- ูุงูุฐุฉ ุงุชุตู ุจูุง -->
    <div class="modal" id="contactModal">
    <div class="modal-content">

        <h3>๐จ ุงุชุตู ุจูุง</h3>

        <input type="email" id="contactEmail" placeholder="ุจุฑูุฏู ุงูุฅููุชุฑููู" required>

        <input type="tel" id="contactPhone" placeholder="ุฑูู ุงููุงุชู (ุงุฎุชูุงุฑู)">

        <textarea id="contactMessage"
                  placeholder="ุงูุชุจ ูุถููู ุฑุณุงูุชู ููุง..."
                  rows="5"></textarea>

        <div class="modal-buttons">
            <button class="save" onclick="sendContactMessage()">๐ค ุฅุฑุณุงู</button>
            <button class="close" onclick="closeContactModal()">โ ุฅุบูุงู</button>
        </div>

    </div>
</div>

<!-- ูุงูุฐุฉ ุงูุบูุงุจ -->
<div id="absentModal" class="modal">
    <div class="modal-content">
        <h3>ูุงุฆูุฉ ุงูุบูุงุจ</h3>

        <!-- ุญููู ุงูุฃุณุชุงุฐ ูุงููุงุฏุฉ -->
        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
            <input type="text" id="teacherName" placeholder="ุงุณู ุงูุฃุณุชุงุฐ" style="flex:1;">
            <input type="text" id="subjectName" placeholder="ุงููุงุฏุฉ" style="flex:1;">
        </div>

          <!-- ููุชุฑ ุงูุจุญุซ ูุงููุณู -->
<div style="display: flex; gap: 6px; margin-bottom: 6px; align-items: center;">
    <input id="absentSearch" type="text" placeholder="๐ ุงูุจุญุซ ุจุงูุงุณู"
        style="flex:1; height:32px; font-size: 0.85rem; padding:4px 8px; box-sizing: border-box;">
    
    <select id="classeFilter"
        style="height:32px; font-size: 0.85rem; padding:4px 8px; box-sizing: border-box;">
        <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
    </select>
</div>

        <!-- ุฌุฏูู ุงูุบูุงุจ ูุน ุชูุฑูุฑ -->
        <div class="table-container" style="max-height: 300px; overflow-y: auto; margin-bottom: 10px;">
            <table id="absentTable">
                <thead>
                    <tr>
                        <th>ุงูููุจ ูุงูุฅุณู</th>
                        <th>ุงููุณู</th>
                        <th>ุชุญุฏูุฏ</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- ุฃุฒุฑุงุฑ ุงูุชุญูู -->
        <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top:5px;">
            <button onclick="reloadStudents()" style="display:flex; align-items:center; gap:4px; padding:6px 12px;">
                ๐ ุชุญุฏูุซ
            </button>
            <button onclick="sendSelectedStudents()" style="display:flex; align-items:center; gap:4px; padding:6px 12px;">
                ๐ค ุฅุฑุณุงู
            </button>
            <button onclick="closeAbsentModal()" style="display:flex; align-items:center; gap:4px; padding:6px 12px;">
                โ ุฅุบูุงู
            </button>
        </div>

        <!-- ูุต ุงูุชุญููู -->
        <div id="loadingText" style="text-align:center; display:none;">ูุฑุฌู ุงูุฅูุชุถุงุฑ ุฌุงุฑู ุงูุชุญููู...</div>
    </div>
</div>

    
<footer class="app-footer">
    <div class="footer-marquee">
        Myschoolmanager | 2010 - 2026 ยฉ  โ ุจุฑูุฌุฉ ูุชุตููู ูุทุฑุด ุนุจุฏุงููุงุฏุฑ aabdousoft@gmail.com  | Algeria, medea 26000
    </div>
</footer>

<script src="app.js"></script>
</body>
</html>
